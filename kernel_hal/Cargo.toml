[package]
name = "kernel_hal"
version = "0.1.0"
edition = "2024"

[dependencies]
bit_field = "0.10.3"
bitflags = "2.10.0"
errors = { version = "0.1.0", path = "../errors" }
humansize = "2.1.3"
log.workspace = true
spin.workspace = true
tempfile = { version = "3.24.0", optional = true }
tokio.workspace = true

[dependencies.nix]
version = "0.31.1"
optional = true
features = ["fs", "mman"]

[features]
default = ["libos"]
libos = ["dep:nix", "dep:tempfile"]
